(()=>{"use strict";var e,t={174(e,t,r){const n=window.wp.blocks,a=window.React,l=window.wp.blockEditor,o=window.wp.i18n,s=window.wp.element,i=window.wp.components,d=({attributes:e,setAttributes:t})=>{const{postsPerPage:r,orderBy:n,order:l}=e,s=[{label:(0,o.__)("Date","horizons"),value:"date"},{label:(0,o.__)("Title","horizons"),value:"title"},{label:(0,o.__)("Menu Order","horizons"),value:"menu_order"}],d=[{label:(0,o.__)("Ascending","horizons"),value:"ASC"},{label:(0,o.__)("Descending","horizons"),value:"DESC"}];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.RangeControl,{label:(0,o.__)("Posts Per Page","horizons"),value:r||3,onChange:e=>t({postsPerPage:e}),min:1,max:20}),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(i.SelectControl,{label:(0,o.__)("Order By","horizons"),value:n||"date",options:s,onChange:e=>t({orderBy:e})})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(i.SelectControl,{label:(0,o.__)("Order","horizons"),value:l||"ASC",options:d,onChange:e=>t({order:e})})))},m=({attributes:e,setAttributes:t})=>{const{gridColumns:r,gridColumnsMd:n,gridGap:l}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(i.RangeControl,{label:(0,o.__)("Columns (default)","horizons"),value:parseInt(r)||3,onChange:e=>t({gridColumns:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(i.RangeControl,{label:(0,o.__)("Columns (md)","horizons"),value:parseInt(n)||3,onChange:e=>t({gridColumnsMd:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(i.RangeControl,{label:(0,o.__)("Gap","horizons"),value:parseInt(l)||3,onChange:e=>t({gridGap:String(e)}),min:0,max:5})))},c=({attributes:e,setAttributes:t})=>{const r=[{name:"main",title:(0,o.__)("Main","horizons")},{name:"layout",title:(0,o.__)("Layout","horizons")},{name:"settings",title:(0,o.__)("Settings","horizons")}];return(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(i.TabPanel,{tabs:r},r=>(0,a.createElement)(a.Fragment,null,"main"===r.name&&(0,a.createElement)(i.PanelBody,null,(0,a.createElement)(d,{attributes:e,setAttributes:t})),"layout"===r.name&&(0,a.createElement)(i.PanelBody,null,(0,a.createElement)(m,{attributes:e,setAttributes:t})),"settings"===r.name&&(0,a.createElement)(i.PanelBody,null,(0,a.createElement)(i.TextControl,{label:(0,o.__)("Block Class","horizons"),value:e.blockClass||"",onChange:e=>t({blockClass:e}),help:(0,o.__)("Additional CSS class for the block wrapper","horizons")}),(0,a.createElement)(i.TextControl,{label:(0,o.__)("Block ID","horizons"),value:e.blockId||"",onChange:e=>t({blockId:e}),help:(0,o.__)("Custom ID for the block wrapper","horizons")}),(0,a.createElement)(i.TextControl,{label:(0,o.__)("Block Data","horizons"),value:e.blockData||"",onChange:e=>t({blockData:e}),help:(0,o.__)("Custom data attribute value","horizons")})))))},p=window.wp.apiFetch;var u=r.n(p);const g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"horizons-blocks/partners-grid","version":"1.0.0","title":"Partners Grid","category":"horizons-blocks","icon":"groups","description":"Display partners in a grid layout","keywords":["partners","grid","team"],"supports":{"html":false,"customClassName":false},"textdomain":"horizons","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":false,"render":"file:./render.php","attributes":{"postsPerPage":{"type":"number","default":3},"orderBy":{"type":"string","default":"date"},"order":{"type":"string","default":"ASC"},"gridColumns":{"type":"string","default":"3"},"gridColumnsMd":{"type":"string","default":"3"},"gridGap":{"type":"string","default":"3"},"blockClass":{"type":"string","default":""},"blockId":{"type":"string","default":""},"blockData":{"type":"string","default":""}}}');(0,n.registerBlockType)(g.name,{...g,edit:function({attributes:e,setAttributes:t,clientId:r}){const{postsPerPage:n=3,orderBy:i="date",order:d="ASC",gridColumns:m="3",gridColumnsMd:p="3",gridGap:g="3",blockClass:h=""}=e,[b,_]=(0,s.useState)([]),[f,y]=(0,s.useState)(!1),v=(0,l.useBlockProps)({className:`horizons-partners-grid-block ${h}`,"data-block":r});(0,s.useEffect)(()=>{(async()=>{y(!0);try{const e=n||3,t=(d||"ASC").toLowerCase(),r=`/wp/v2/partners?per_page=${e}&orderby=${i}&order=${t}&_embed`,a=await u()({path:r});if(!Array.isArray(a))return _([]),void y(!1);const l=a.map(e=>{const t=e.meta?._partners_position||"",r=e.meta?._partners_name||"",n=e.meta?._partners_surname||"",a=e.meta?._partners_full_position||"";let l="";e.featured_media&&(l=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"");const o=r&&n?`${r} ${n.toUpperCase()}`:e.title?.rendered||"";return{id:e.id,title:e.title?.rendered||"",link:e.link||"#",position:t,name:r,surname:n,fullPosition:a,thumbnail:l,fullName:o}});_(l)}catch(e){console.error("Partners Grid: Error fetching posts:",e),_([])}finally{y(!1)}})()},[n,i,d]);const C=`g-${g} g-md-${g}`,E=(()=>{const e=[],t=parseInt(m)||3,r=parseInt(p)||3;return e.push("col-md-"+12/t),r!==t&&e.push("col-md-"+12/r),e.join(" ")})();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c,{attributes:e,setAttributes:t}),(0,a.createElement)("div",{...v},f?(0,a.createElement)("div",{className:"horizons-partners-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,o.__)("Loading partners...","horizons")):0===b.length?(0,a.createElement)("div",{className:"horizons-partners-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,o.__)("No partners found. Please ensure partners post type exists and has posts.","horizons")):(0,a.createElement)("div",{className:`row ${C}`},b.map(e=>(0,a.createElement)("div",{key:e.id,className:E},(0,a.createElement)("div",{className:"swiper-slide"},(0,a.createElement)("figure",{className:"lift",style:{marginBottom:"1rem"}},e.thumbnail?(0,a.createElement)("img",{src:e.thumbnail,alt:e.fullName,style:{width:"100%",height:"auto"}}):(0,a.createElement)("div",{style:{width:"100%",height:"200px",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center"}},(0,a.createElement)("span",null,(0,o.__)("No image","horizons"))),(0,a.createElement)("div",{className:"caption-wrapper-1 p-7",style:{position:"relative"}},(0,a.createElement)("div",{className:"caption bg-matte-color mt-auto label-u text-neutral-50 px-4 py-2",style:{display:"inline-block"}},e.position||(0,o.__)("Position","horizons")))),(0,a.createElement)("div",{className:"team-item-content text-dark mt-3 mb-5 mb-md-0"},(0,a.createElement)("h3",{className:"h4"},e.fullName||e.title),e.fullPosition&&(0,a.createElement)("div",{className:"label-u"},e.fullPosition))))))))},save:function(){return null}})}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,r,a,l)=>{if(!r){var o=1/0;for(m=0;m<e.length;m++){for(var[r,a,l]=e[m],s=!0,i=0;i<r.length;i++)(!1&l||o>=l)&&Object.keys(n.O).every(e=>n.O[e](r[i]))?r.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(m--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[r,a,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={905:0,478:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,l,[o,s,i]=r,d=0;if(o.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(i)var m=i(n)}for(t&&t(r);d<o.length;d++)l=o[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(m)},r=globalThis.webpackChunkhorizons_theme=globalThis.webpackChunkhorizons_theme||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[478],()=>n(174));a=n.O(a)})();