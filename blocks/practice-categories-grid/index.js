(()=>{"use strict";var e,t={273(e,t,r){const l=window.wp.blocks,a=window.React,o=window.wp.blockEditor,n=window.wp.i18n,s=window.wp.element,i=window.wp.data,c=window.wp.components,d=({attributes:e,setAttributes:t})=>{const{termsPerPage:r,orderBy:l,order:o,useAltTitle:s,showAllPracticeLink:i}=e,d=[{label:(0,n.__)("Meta Value (Order)","horizons"),value:"meta_value_num"},{label:(0,n.__)("Name","horizons"),value:"name"},{label:(0,n.__)("Count","horizons"),value:"count"},{label:(0,n.__)("Slug","horizons"),value:"slug"}],u=[{label:(0,n.__)("Ascending","horizons"),value:"ASC"},{label:(0,n.__)("Descending","horizons"),value:"DESC"}];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Terms Per Page","horizons"),value:-1===r?0:r,onChange:e=>t({termsPerPage:0===e?-1:e}),min:0,max:50,initialPosition:-1}),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Order By","horizons"),value:l||"meta_value_num",options:d,onChange:e=>t({orderBy:e})})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Order","horizons"),value:o||"ASC",options:u,onChange:e=>t({order:e})})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.ToggleControl,{label:(0,n.__)("Use Alternative Title","horizons"),checked:!1!==s,onChange:e=>t({useAltTitle:e})})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.ToggleControl,{label:(0,n.__)('Show "All Practice" Link',"horizons"),checked:!1!==i,onChange:e=>t({showAllPracticeLink:e})})))},u=[{value:"classic",label:(0,n.__)("Classic grid","horizons")},{value:"columns-grid",label:(0,n.__)("Columns grid","horizons")}],m=({value:e,onChange:t})=>(0,a.createElement)("div",{className:"mb-3"},(0,a.createElement)("div",{className:"component-sidebar-title"},(0,a.createElement)("label",null,(0,n.__)("Grid type","horizons"))),(0,a.createElement)(c.ButtonGroup,null,u.map(r=>(0,a.createElement)(c.Button,{key:r.value,isPrimary:e===r.value,onClick:()=>t(r.value)},r.label)))),g=({attributes:e,setAttributes:t})=>{const{gridType:r,gridColumns:l,gridColumnsMd:o,gridRowCols:s,gridRowColsMd:i,gridGap:d,gridGapMd:u}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m,{value:r||"classic",onChange:r=>{"columns-grid"===r?t({gridType:r,gridColumns:"",gridColumnsMd:"",gridRowCols:e.gridRowCols||"12",gridRowColsMd:e.gridRowColsMd||"3"}):"classic"===r&&t({gridType:r,gridRowCols:"",gridRowColsMd:"",gridColumns:e.gridColumns||"3",gridColumnsMd:e.gridColumnsMd||"3"})}}),"classic"===r&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Columns (default)","horizons"),value:parseInt(l)||3,onChange:e=>t({gridColumns:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Columns (md)","horizons"),value:parseInt(o)||3,onChange:e=>t({gridColumnsMd:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Gap","horizons"),value:parseInt(d)||3,onChange:e=>t({gridGap:String(e)}),min:0,max:5}))),"columns-grid"===r&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Columns Per Row (default)","horizons"),value:parseInt(s)||12,onChange:e=>t({gridRowCols:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Columns Per Row (md)","horizons"),value:parseInt(i)||3,onChange:e=>t({gridRowColsMd:String(e)}),min:1,max:12})),(0,a.createElement)("div",{style:{marginTop:"16px"}},(0,a.createElement)(c.RangeControl,{label:(0,n.__)("Gap","horizons"),value:parseInt(d)||3,onChange:e=>t({gridGap:String(e)}),min:0,max:5}))))},p=({attributes:e,setAttributes:t})=>{const r=[{name:"main",title:(0,n.__)("Main","horizons")},{name:"layout",title:(0,n.__)("Layout","horizons")},{name:"settings",title:(0,n.__)("Settings","horizons")}];return(0,a.createElement)(o.InspectorControls,null,(0,a.createElement)(c.TabPanel,{tabs:r},r=>(0,a.createElement)(a.Fragment,null,"main"===r.name&&(0,a.createElement)(c.PanelBody,null,(0,a.createElement)(d,{attributes:e,setAttributes:t})),"layout"===r.name&&(0,a.createElement)(c.PanelBody,null,(0,a.createElement)(g,{attributes:e,setAttributes:t})),"settings"===r.name&&(0,a.createElement)(c.PanelBody,null,(0,a.createElement)(c.TextControl,{label:(0,n.__)("Block Class","horizons"),value:e.blockClass||"",onChange:e=>t({blockClass:e}),help:(0,n.__)("Additional CSS class for the block wrapper","horizons")}),(0,a.createElement)(c.TextControl,{label:(0,n.__)("Block ID","horizons"),value:e.blockId||"",onChange:e=>t({blockId:e}),help:(0,n.__)("Custom ID for the block wrapper","horizons")}),(0,a.createElement)(c.TextControl,{label:(0,n.__)("Block Data","horizons"),value:e.blockData||"",onChange:e=>t({blockData:e}),help:(0,n.__)("Custom data attribute value","horizons")})))))},h=window.wp.apiFetch;var C=r.n(h);const b=(e={},t="grid")=>{const r=e[`${t}GapType`]||"general",l=e[`${t}Gap`]||"",a=e[`${t}GapMd`]||"",o=e[`${t}GapX`]||"",n=e[`${t}GapXMd`]||"",s=e[`${t}GapY`]||"",i=e[`${t}GapYMd`]||"",c=[];return"general"!==r&&"x"!==r&&"y"!==r||(l&&c.push(`g-${l}`),a&&c.push(`g-md-${a}`)),"x"!==r&&"general"!==r||(o&&c.push(`gx-${o}`),n&&c.push(`gx-md-${n}`)),"y"!==r&&"general"!==r||(s&&c.push(`gy-${s}`),i&&c.push(`gy-md-${i}`)),c.filter(Boolean)},y=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"horizons-blocks/practice-categories-grid","version":"1.0.0","title":"Practice Categories Grid","category":"codeweber-gutenberg-elements","icon":"category","description":"Display practice categories in a grid layout","keywords":["practice","categories","grid","taxonomy"],"supports":{"html":false,"customClassName":false},"textdomain":"horizons","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":false,"render":"file:./render.php","attributes":{"gridType":{"type":"string","default":"classic"},"gridColumns":{"type":"string","default":"3"},"gridColumnsMd":{"type":"string","default":"3"},"gridRowCols":{"type":"string","default":"12"},"gridRowColsMd":{"type":"string","default":"3"},"gridGap":{"type":"string","default":"3"},"gridGapMd":{"type":"string","default":"3"},"termsPerPage":{"type":"number","default":-1},"orderBy":{"type":"string","default":"meta_value_num"},"order":{"type":"string","default":"ASC"},"useAltTitle":{"type":"boolean","default":true},"showAllPracticeLink":{"type":"boolean","default":true},"blockClass":{"type":"string","default":""},"blockId":{"type":"string","default":""},"blockData":{"type":"string","default":""}}}');(0,l.registerBlockType)(y.name,{...y,edit:function({attributes:e,setAttributes:t,clientId:r}){const{gridType:l="classic",gridColumns:c="3",gridRowCols:d,gridGapX:u,gridGapY:m,termsPerPage:g=-1,orderBy:h="meta_value_num",order:y="ASC",useAltTitle:_=!0,showAllPracticeLink:v=!0,blockClass:w=""}=e,[E,f]=(0,s.useState)([]),[x,k]=(0,s.useState)(!1),z=(0,o.useBlockProps)({className:`horizons-practice-categories-grid-block ${w}`,"data-block":r}),$=(0,i.useSelect)(e=>{const t=e("core/site")?.getSiteInfo?.();return t?.url||""},[]);(0,s.useEffect)(()=>{(async()=>{k(!0);try{const e=`/wp/v2/practice_category?per_page=${-1===g?100:g}&_embed`,t=await C()({path:e});if(!Array.isArray(t))return f([]),void k(!1);let r=t.map(e=>{const t=e.name;return{id:e.id,name:e.name,displayTitle:t,slug:e.slug,link:e.link||`#${e.slug}`,color:"",colorClass:"",count:e.count||0,order:0}});if("meta_value_num"===h||"meta_value"===h){const e=await Promise.all(r.map(async e=>{try{const t=await C()({path:`/wp/v2/practice_category/${e.id}?_embed`}),r=t.meta?.practice_category_order||"0";return{...e,order:parseInt(r)||0}}catch(t){return{...e,order:0}}}));r=e.sort((e,t)=>"ASC"===y?e.order-t.order:t.order-e.order)}else"name"===h||"slug"===h?r.sort((e,t)=>{const r=e[h].toLowerCase(),l=t[h].toLowerCase();return"ASC"===y?r.localeCompare(l):l.localeCompare(r)}):"count"===h&&r.sort((e,t)=>"ASC"===y?e.count-t.count:t.count-e.count);f(r)}catch(e){console.error("Practice Categories Grid: Error fetching terms:",e),f([])}finally{k(!1)}})()},[g,h,y,_]);const T=()=>{if("classic"!==l)return"";const t=[],{gridColumns:r,gridColumnsXs:a,gridColumnsSm:o,gridColumnsMd:n,gridColumnsLg:s,gridColumnsXl:i,gridColumnsXxl:c}=e;return r&&t.push("col-"+12/parseInt(r)),a&&t.push("col-"+12/parseInt(a)),o&&t.push("col-sm-"+12/parseInt(o)),n&&t.push("col-md-"+12/parseInt(n)),s&&t.push("col-lg-"+12/parseInt(s)),i&&t.push("col-xl-"+12/parseInt(i)),c&&t.push("col-xxl-"+12/parseInt(c)),t.join(" ")};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(p,{attributes:e,setAttributes:t}),(0,a.createElement)("div",{...z},x?(0,a.createElement)("div",{className:"horizons-practice-categories-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,n.__)("Loading categories...","horizons")):0===E.length?(0,a.createElement)("div",{className:"horizons-practice-categories-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,n.__)("No categories found. Please ensure practice_category taxonomy exists and has terms.","horizons")):(0,a.createElement)("div",{className:(()=>{if("columns-grid"===(l||"classic")){const t=((e={},t="grid",r=null)=>{const l=e[`${t}RowCols`]||"",a=e[`${t}RowColsSm`]||"",o=e[`${t}RowColsMd`]||"",n=e[`${t}RowColsLg`]||"",s=e[`${t}RowColsXl`]||"",i=e[`${t}RowColsXxl`]||"",c=[];return(l||r)&&c.push(`row-cols-${l||r}`),a&&c.push(`row-cols-sm-${a}`),o&&c.push(`row-cols-md-${o}`),n&&c.push(`row-cols-lg-${n}`),s&&c.push(`row-cols-xl-${s}`),i&&c.push(`row-cols-xxl-${i}`),c.filter(Boolean)})(e,"grid",c);let r=b(e,"grid").join(" ");if(!r&&(u||m)){const e=[];m&&e.push(`gy-${m}`),u&&e.push(`gx-${u}`),r=e.join(" ")}return`row ${r} ${t.join(" ")}`}{let t=b(e,"grid").join(" ");if(!t&&(u||m)){const e=[];m&&e.push(`gy-${m}`),u&&e.push(`gx-${u}`),t=e.join(" ")}return`row ${t}`.trim()}})()},E.map(e=>(0,a.createElement)("div",{key:e.id,className:"classic"===l?T():"columns-grid"===l?"col":""},(0,a.createElement)("a",{href:e.link,className:"card h-100 practice-card"},(0,a.createElement)("div",{className:`brand-square-xs ${e.colorClass} opacity-0 position-absolute top-0 start-0`}),(0,a.createElement)("div",{className:"card-body d-flex flex-column justify-content-between"},(0,a.createElement)("div",{className:"pe-none mb-5"},(0,a.createElement)("div",{className:`practice-card-hover brand-square-md ${e.colorClass}`})),(0,a.createElement)("h3",{className:"h4"},e.displayTitle),(0,a.createElement)("div",{className:"icontext right label-s text-white opacity-0 position-absolute",style:{transition:"all .8s ease",top:"45px",left:"45px"}},(0,n.__)("More details","horizons")))))),v&&(0,a.createElement)("div",{className:"classic"===l?T():"columns-grid"===l?"col":""},(0,a.createElement)("a",{href:$?`${$}/practices`:"/practices",className:"card practice-card bg-dusty-navy h-100"},(0,a.createElement)("div",{className:"card-body align-content-center text-center"},(0,a.createElement)("span",{className:"hover-4 link-body label-s text-sub-white"},(0,n.__)("All Practice","horizons"))))))))},save:function(){return null}})}},r={};function l(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=(t,r,a,o)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,a,o]=e[d],s=!0,i=0;i<r.length;i++)(!1&o||n>=o)&&Object.keys(l.O).every(e=>l.O[e](r[i]))?r.splice(i--,1):(s=!1,o<n&&(n=o));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[n,s,i]=r,c=0;if(n.some(t=>0!==e[t])){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(i)var d=i(l)}for(t&&t(r);c<n.length;c++)o=n[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},r=globalThis.webpackChunkhorizons_theme=globalThis.webpackChunkhorizons_theme||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=l.O(void 0,[350],()=>l(273));a=l.O(a)})();