(()=>{"use strict";var e,t={743(e,t,r){const a=window.wp.blocks,n=window.React,l=window.wp.blockEditor,o=window.wp.i18n,s=window.wp.element,i=window.wp.components,d=({attributes:e,setAttributes:t})=>{const{postsPerPage:r,orderBy:a,order:l,showAllAwardsLink:s}=e,d=[{label:(0,o.__)("Date","horizons"),value:"date"},{label:(0,o.__)("Title","horizons"),value:"title"},{label:(0,o.__)("Menu Order","horizons"),value:"menu_order"}],c=[{label:(0,o.__)("Ascending","horizons"),value:"ASC"},{label:(0,o.__)("Descending","horizons"),value:"DESC"}];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.RangeControl,{label:(0,o.__)("Posts Per Page","horizons"),value:r||7,onChange:e=>t({postsPerPage:e}),min:1,max:20}),(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.SelectControl,{label:(0,o.__)("Order By","horizons"),value:a||"date",options:d,onChange:e=>t({orderBy:e})})),(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.SelectControl,{label:(0,o.__)("Order","horizons"),value:l||"DESC",options:c,onChange:e=>t({order:e})})),(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.ToggleControl,{label:(0,o.__)('Show "All Awards" Link',"horizons"),checked:!1!==s,onChange:e=>t({showAllAwardsLink:e})})))},c=({attributes:e,setAttributes:t})=>{const{gridColumns:r,gridColumnsMd:a,gridColumnsSm:l}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.RangeControl,{label:(0,o.__)("Columns (lg)","horizons"),value:parseInt(r)||4,onChange:e=>t({gridColumns:String(e)}),min:1,max:12})),(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.RangeControl,{label:(0,o.__)("Columns (md)","horizons"),value:parseInt(a)||4,onChange:e=>t({gridColumnsMd:String(e)}),min:1,max:12})),(0,n.createElement)("div",{style:{marginTop:"16px"}},(0,n.createElement)(i.RangeControl,{label:(0,o.__)("Columns (sm)","horizons"),value:parseInt(l)||2,onChange:e=>t({gridColumnsSm:String(e)}),min:1,max:12})))},m=({attributes:e,setAttributes:t})=>{const r=[{name:"main",title:(0,o.__)("Main","horizons")},{name:"layout",title:(0,o.__)("Layout","horizons")},{name:"settings",title:(0,o.__)("Settings","horizons")}];return(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)(i.TabPanel,{tabs:r},r=>(0,n.createElement)(n.Fragment,null,"main"===r.name&&(0,n.createElement)(i.PanelBody,null,(0,n.createElement)(d,{attributes:e,setAttributes:t})),"layout"===r.name&&(0,n.createElement)(i.PanelBody,null,(0,n.createElement)(c,{attributes:e,setAttributes:t})),"settings"===r.name&&(0,n.createElement)(i.PanelBody,null,(0,n.createElement)(i.TextControl,{label:(0,o.__)("Block Class","horizons"),value:e.blockClass||"",onChange:e=>t({blockClass:e}),help:(0,o.__)("Additional CSS class for the block wrapper","horizons")}),(0,n.createElement)(i.TextControl,{label:(0,o.__)("Block ID","horizons"),value:e.blockId||"",onChange:e=>t({blockId:e}),help:(0,o.__)("Custom ID for the block wrapper","horizons")}),(0,n.createElement)(i.TextControl,{label:(0,o.__)("Block Data","horizons"),value:e.blockData||"",onChange:e=>t({blockData:e}),help:(0,o.__)("Custom data attribute value","horizons")})))))},u=window.wp.apiFetch;var g=r.n(u);const p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"horizons-blocks/awards-grid","version":"1.0.0","title":"Awards Grid","category":"codeweber-gutenberg-elements","icon":"awards","description":"Display awards in a grid layout","keywords":["awards","grid","prizes"],"supports":{"html":false,"customClassName":false},"textdomain":"horizons","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":false,"render":"file:./render.php","attributes":{"postsPerPage":{"type":"number","default":7},"orderBy":{"type":"string","default":"date"},"order":{"type":"string","default":"DESC"},"gridColumns":{"type":"string","default":"4"},"gridColumnsMd":{"type":"string","default":"4"},"gridColumnsSm":{"type":"string","default":"2"},"showAllAwardsLink":{"type":"boolean","default":true},"blockClass":{"type":"string","default":""},"blockId":{"type":"string","default":""},"blockData":{"type":"string","default":""}}}');(0,a.registerBlockType)(p.name,{...p,edit:function({attributes:e,setAttributes:t,clientId:r}){const{postsPerPage:a=7,orderBy:i="date",order:d="DESC",gridColumns:c="4",gridColumnsMd:u="4",gridColumnsSm:p="2",showAllAwardsLink:h=!0,blockClass:b=""}=e,[w,y]=(0,s.useState)([]),[_,v]=(0,s.useState)(!1),C=(0,l.useBlockProps)({className:`horizons-awards-grid-block ${b}`,"data-block":r});return(0,s.useEffect)(()=>{(async()=>{v(!0);try{const e=a||7,t=(d||"DESC").toLowerCase(),r=`/wp/v2/awards?per_page=${e}&orderby=${i}&order=${t}&_embed`,n=await g()({path:r});if(!Array.isArray(n))return y([]),void v(!1);const l=n.map(e=>{let t="";return e.featured_media&&(t=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||""),{id:e.id,title:e.title?.rendered||"",link:e.link||"#",thumbnail:t}});y(l)}catch(e){console.error("Awards Grid: Error fetching posts:",e),y([])}finally{v(!1)}})()},[a,i,d]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(m,{attributes:e,setAttributes:t}),(0,n.createElement)("div",{...C},_?(0,n.createElement)("div",{className:"horizons-awards-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,o.__)("Loading awards...","horizons")):0===w.length?(0,n.createElement)("div",{className:"horizons-awards-grid-placeholder",style:{padding:"20px",textAlign:"center"}},(0,o.__)("No awards found. Please ensure awards post type exists and has posts.","horizons")):(0,n.createElement)("div",{className:`row row-cols-2 row-cols-sm-${p} row-cols-md-${u} row-cols-lg-${c} gx-3 gy-3`},w.map(e=>(0,n.createElement)("div",{key:e.id,className:"col"},(0,n.createElement)("a",{href:e.link,className:"card hover-scale h-100 align-items-center"},(0,n.createElement)("div",{className:"card-body align-items-center d-flex p-0"},(0,n.createElement)("figure",{className:"p-0 mb-0"},e.thumbnail?(0,n.createElement)("img",{decoding:"async",src:e.thumbnail,alt:e.title,style:{width:"100%",height:"auto"}}):(0,n.createElement)("div",{style:{width:"100%",height:"200px",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center"}},(0,n.createElement)("span",null,(0,o.__)("No image","horizons")))))))),h&&(0,n.createElement)("div",{className:"col"},(0,n.createElement)("div",{className:"card h-100 bg-dusty-navy"},(0,n.createElement)("div",{className:"card-body align-content-center text-center"},(0,n.createElement)("span",{className:"hover-4 link-body label-s text-sub-white"},(0,o.__)("All Awards","horizons"))))))))},save:function(){return null}})}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,r,n,l)=>{if(!r){var o=1/0;for(c=0;c<e.length;c++){for(var[r,n,l]=e[c],s=!0,i=0;i<r.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every(e=>a.O[e](r[i]))?r.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,n,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={905:0,478:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,[o,s,i]=r,d=0;if(o.some(t=>0!==e[t])){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var c=i(a)}for(t&&t(r);d<o.length;d++)l=o[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},r=globalThis.webpackChunkhorizons_theme=globalThis.webpackChunkhorizons_theme||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[478],()=>a(743));n=a.O(n)})();